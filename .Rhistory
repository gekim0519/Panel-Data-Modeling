knitr::opts_chunk$set(echo = TRUE)
gss_all = read.csv('./data/gss-all-panels-06-14.csv')
head(gss_all)
gss_all$tvhours
head(gss_all)
library(ggplot2)
library(tidyverse)
gss_all %>%
select(contv) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="identity")
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="identity")
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="bin")
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count")
gss_all %>% correlate() %>% focus(var1) %>% arrange(var1)
gss_all %>% psych::correlate() %>% focus(var1) %>% arrange(var1)
install.packages("psych")
gss_all %>% psych::correlate() %>% focus(var1) %>% arrange(var1)
?? correlate()
View(gss_all)
gss_all %>% lsr::correlate() %>% focus(var1) %>% arrange(var1)
install.packages("lsr")
gss_all %>% lsr::correlate() %>% focus(contv) %>% arrange(tvhours)
gss_all %>% filter(panelwave == 1) %>% lsr::correlate() %>% focus(contv) %>% arrange(tvhours)
?? focus()
?? focus()
gss_all %>% filter(panelwave == 1) %>% correlate() %>% focus(contv) %>% arrange(tvhours)
library(lsr)
library(lsr)
gss_all %>% filter(panelwave == 1) %>% correlate() %>% focus(contv) %>% arrange(tvhours)
boxplot(gss_all$contv)
View(gss_all)
gss_all %>% summarise()
gss_all %>% summary()
gss_all$panelwave %>% table()
gss_all %>%
filter(panelwave == 1) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count")
for (i in 1:3){
gss_all %>%
filter(panelwave == i) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count")
}
plot
for (i in 1:3){
gss_all %>%
filter(panelwave == i) %>%
plot = ggplot(aes(x=contv)) +
geom_bar(stat="count")
plot
}
print(plot)
for (i in 1:3){
gss_all %>%
filter(panelwave == i) %>%
plot = ggplot(aes(x=contv)) +
geom_bar(stat="count")
print(plot)
}
gss_all %>%
filter(panelwave == i) %>%
plot = ggplot(aes(x=contv)) +
geom_bar(stat="count")
for (i in 1:3){
gss_all %>%
filter(panelwave == i) %>%
plot = ggplot(aes(x=contv)) +
geom_bar(stat="count")
}
gss_all %>%
filter(panelwave == i) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count")
for (i in 1:3){
gss_all %>%
filter(panelwave == i) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count")
}
for (i in 1:3){
plot = gss_all %>%
filter(panelwave == i) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count")
print(plot)
}
for (i in 1:3){
plot = gss_all %>%
filter(panelwave == i) %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count")
print(plot)
}
gss_all %>%
filter(panelwave == i) %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
dim(gss_all)
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
distinct(gss_all$idnum)
unique(gss_all$idnum)
unique(gss_all$idnum) %>% length()
dim(gss_all)
unique(gss_all$idnum) %>% length()
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all$tvhours %>% table()
gss_all$tvhours %>% table() %>%
knitr::kable()
dim(gss_all)
unique(gss_all$idnum) %>% length()
gss_all$tvhours %>% table() %>%
knitr::kable()
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all$tvhours %>%
levels()
gss_all$tvhours %>%
factor(levels = c(".d", ".i", ".n", "0",  "1", "2", "3", "4",  "5",  "6",  "7",  "8",  "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "23", "24"))
gss_all$tvhours = gss_all$tvhours %>%
factor(levels = c(".d", ".i", ".n", "0",  "1", "2", "3", "4",  "5",  "6",  "7",  "8",  "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "23", "24"))
gss_all$tvhours = gss_all$tvhours %>%
factor(levels = c(".d", ".i", ".n", "0",  "1", "2", "3", "4",  "5",  "6",  "7",  "8",  "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "23", "24"))
gss_all$tvhours = gss_all$tvhours %>% factor(levels = c(".d", ".i", ".n", "0",  "1", "2", "3", "4",  "5",  "6",  "7",  "8",  "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "23", "24"))
dim(gss_all)
unique(gss_all$idnum) %>% length()
gss_all$tvhours %>% table() %>%
knitr::kable()
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>% filter(panelwave == 1) %>% correlate() %>% focus(contv) %>% arrange(tvhours)
gss_all %>% filter(panelwave == 1) %>% correlate() %>% focus(contv)
??focus()
gss_all$tvhours %>%
as.numeric()
gss_all$tvhours
gss_all$tvhours %>%
as.numeric()
gss_all$tvhours
gss_all$tvhours[1:10]
gss_all$tvhours %>%
as.numeric()[1:10]
dim(gss_all)
unique(gss_all$idnum) %>% length()
gss_all$tvhours %>% table() %>%
knitr::kable()
gss_all$tvhours %>% table() %>%
transpose() %>%
knitr::kable()
gss_all$tvhours %>% table() %>%
transpose()
gss_all$tvhours %>% table() %>%
knitr::kable()
gss_all$tvhours %>%
t() %>%
table() %>%
knitr::kable()
gss_all$tvhours %>%
t() %>%
table()
gss_all$tvhours %>%
table() %>%
knitr::kable() %>%
t()
gss_all$contv %>%
table() %>%
knitr::kable()
gss_all$contv %>%
summary()
gss_all$contv %>%
summary()
gss_all$contv %>%
table()
Hmisc::describe(gss_all$contv)
Hmisc::describe(gss_all$contv) %>%
knitr::kable()
Hmisc::describe(gss_all$contv) %>%
knitr::kable()
Hmisc::describe(gss_all$contv)
Hmisc::describe(gss_all$tvhours)
Hmisc::describe(gss_all$tvhours)
Hmisc::describe(gss_all$contv)
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$contv %>%
table() %>%
knitr::kable()
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
#library(lsr)
#gss_all %>% filter(panelwave == 1) %>% correlate() %>% focus(contv) %>% arrange(tvhours)
gss_all$tvhours[1:10]
gss_all$tvhours %>%
as.numeric()[1:10]
gss_all$tvhours[1:10]
gss_all$tvhours %>%
as.numeric()
gss_all$tvhours[1:10]
gss_all$tvhours %>%
as.numeric()[1:10]
gss_all$tvhours[1:10]
gss_all$tvhours %>%
as.numeric()[1:10]
gss_all$tvhours[1:10] %>%
as.numeric()
#library(lsr)
#gss_all %>% filter(panelwave == 1) %>% correlate() %>% focus(contv) %>% arrange(tvhours)
gss_all$tvhours[1:10]
gss_all$tvhours[1:10] %>%
as.numeric()
gss_all %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum)) +
geom_line()
gss_all %>%
ggplot(aes(x = panelwave, y = tvhours, color = idnum)) +
geom_line()
gss_all %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum)) +
geom_line()
gss_all %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line()
gss_all %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line() + theme(legend.position="none")
gss_all %>%
sample(1000) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line() + theme(legend.position="none")
gss_all %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line() + theme(legend.position="none")
gss_all %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line(alpha = 0.5) + theme(legend.position="none")
gss_all$idnum %>% sample(1000)
gss_all %>%
filter(idnum %in% sample) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line(alpha = 0.5) + theme(legend.position="none")
gss_all %>%
filter(idnum %in% sample)
sample = gss_all$idnum %>% sample(1000)
gss_all %>%
filter(idnum %in% sample) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line(alpha = 0.5) + theme(legend.position="none")
gss_all %>%
filter(idnum %in% sample)
sample
sample = gss_all$idnum %>% sample(1000) %>% list()
View(sample)
View(sample)
sample = gss_all$idnum %>% sample(1000)
gss_all$idnum %>% sample(1000)
gss_all %>%
filter(idnum %in% (gss_all$idnum %>% sample(1000)))
set.seed(100)
gss_all %>%
filter(idnum %in% (gss_all$idnum %>% sample(1000))) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_line(alpha = 0.5) + theme(legend.position="none")
gss_all %>%
filter(idnum %in% (gss_all$idnum %>% sample(1000))) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_point() + geom_line() +
theme(legend.position="none")
gss_all %>%
filter(idnum %in% (gss_all$idnum %>% sample(1000))) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_point() + geom_line(alpha = 0.5) + theme(legend.position="none")
library(corrplot)
gss_all %>%
select(tvhours, contv)
gss_all %>%
filter(panelwave == 1) %>%
select(tvhours, contv) %>%
corrplot.mixed()
corrplot.mixed()
gss_all %>%
select(tvhours, contv) %>%
filter(panelwave == 1 & tvhours !%in% c('.d', '.i', '.n'))
gss_all %>%
select(tvhours, contv) %>%
filter(panelwave == 1 & !(tvhours %in% c('.d', '.i', '.n') & !(contv %in% c('.d', '.i', '.n'))))
gss_all %>%
filter(panelwave == 1 & !(tvhours %in% c('.d', '.i', '.n') & !(contv %in% c('.d', '.i', '.n')))) %>%    select(tvhours, contv) %>%
corrplot.mixed()
gss_all %>%
filter(panelwave == 1 & !(tvhours %in% c('.d', '.i', '.n') & !(contv %in% c('.d', '.i', '.n')))) %>%    select(tvhours, contv)
gss_all %>%
filter(panelwave == 1 | !(tvhours %in% c('.d', '.i', '.n') | !(contv %in% c('.d', '.i', '.n')))) %>%    select(tvhours, contv)
gss_all %>%
filter(!(tvhours %in% c('.d', '.i', '.n'))) %>%
select(tvhours, contv)
filter(panelwave == 1 | !(tvhours %in% c('.d', '.i', '.n') | !(contv %in% c('.d', '.i', '.n')))) %>%
gss_all %>%
filter(!(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(tvhours, contv)
filter(panelwave == 1 | !(tvhours %in% c('.d', '.i', '.n') | !(contv %in% c('.d', '.i', '.n')))) %>%
gss_all %>%
filter(!(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(tvhours, contv)
filter(panelwave == 1 | !(tvhours %in% c('.d', '.i', '.n') | !(contv %in% c('.d', '.i', '.n')))) %>%
gss_all %>%
filter(!(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(tvhours, contv)
gss_all %>%
filter(!(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(tvhours, contv)
filter(panelwave == 1 | !(tvhours %in% c('.d', '.i', '.n') | !(contv %in% c('.d', '.i', '.n')))) %>%
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(tvhours, contv)
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(tvhours, contv)
filter(panelwave == 1 | !(tvhours %in% c('.d', '.i', '.n') | !(contv %in% c('.d', '.i', '.n')))) %>%
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(panelwave, tvhours, contv)
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
select(panelwave, tvhours, contv)
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(panelwave, tvhours, contv)
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
corrplot.mixed()
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv)
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
corrplot.mixed()
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor()
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor() %>%
corrplot.mixed()
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor()
gss_all %>%
filter(panelwave == 1) %>%
select(tvhours, contv) %>%
cor()
gss_all %>%
filter(panelwave == 1) %>%
select(tvhours, contv) %>%
lsr::correlate()
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor()
View(gss_all)
