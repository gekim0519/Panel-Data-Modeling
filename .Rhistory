table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$contv %>%
table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$contv %>%
table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
Hmisc::summarize()
gss_al %>%
Hmisc::summarize(tvhours)
gss_al %>%
Hmisc::summarize(by = tvhours)
gss_all$tvhours %>%
Hmisc::describe()
gss_all$tvhours %>%
Hmisc::describe()
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$tvhours %>%
Hmisc::describe()
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$tvhours %>%
Hmisc::describe()
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
mutate(Percent = sum(Freq))
gss_all$tvhours %>%
Hmisc::describe()
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all$tvhours %>%
is.na()
gss_all$tvhours %>%
is.na() %>%
sum()
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all$tvhours %>%
is.na()
gss_all$tvhours
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all$tvhours %>%
is.na() %>%
sum()
9742+8459
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all$tvhours %>%
table() %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$contv %>%
table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame()
gss_all %>%
select(tvhours) %>%
table() %>%
as.data.frame() %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all %>%
select(tvhours)
gss_all %>%
select(tvhours) %>%
table()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(. = 'values') %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename('.' = 'values') %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(. = values) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(values = .)
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(values = .)
gss_all$tvhours %>%
table() %>%
as.data.frame() %>%
rename(., values = .)
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = values) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = 'values')
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = c('values')) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = c('values'))
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = c('values', 'freq'))
gss_all$tvhours %>%
table() %>%
as.data.frame(c('values', 'freq'))
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$contv %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor()
gss_all %>%
filter(!(contv %in% c('.d', '.i', '.n')) & !(tvhours %in% c('.d', '.i', '.n')) & panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor()
gss_all %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(na.rm = TRUE)
gss_all %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use = "everything",
method = c("pearson", "kendall", "spearman"))
gss_all %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use="complete.obs")
gss_all %>%
filter(panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use="complete.obs")
gss_all %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use="complete.obs")
gss_all %>%
filter(panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use="complete.obs")
purrr::map(gss_all, as.numeric)
gss_numeric = purrr::map(gss_all, as.numeric)
contv _cor = gss_numeric %>%
contv_cor = gss_numeric %>%
cor(use="complete.obs")
library(purrr)
contv_cor = map(gss_numeric$cont, cor(use="complete.obs"))
View(gss_numeric)
gss_numeric = map_df(gss_all, as.numeric)
gss_numeric_p1 = gss_numeric %>%
filter(panelwave == 1)
cor(gss_numeric_p1$contv, names(gss_numeric_p1), use="complete.obs")
names(gss_numeric_p1)
cor(gss_numeric_p1$contv, gss_numeric_p1, use="complete.obs")
cor(gss_numeric_p1$contv, gss_numeric_p1$ballot, use="complete.obs")
cor(gss_numeric_p1, use="complete.obs")
c = cor(gss_numeric_p1)
View(c)
c = cor(gss_numeric_p1, use="complete.obs")
c = cor(gss_numeric_p1, use="p")
View(c)
c %>%
as.data.frame() %>%
select(contv)
c %>%
as.data.frame() %>%
select(contv) %>%
filter(contv > 0.2)
c %>%
as.data.frame() %>%
select(contv)
c %>%
as.data.frame() %>%
select(contv) %>%
filter(contv > 0.2)
c %>%
as.data.frame() %>%
select(contv)
c['contv']
c[, 'contv']
c[, 'contv']  %>%
as.data.frame()
c %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.2)
c %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.2) %>%
arrange(desc(contv))
c %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.2)
c %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.25)
gss_numeric_p1 %>%
select(relate1, relate10)
gss_numeric_p1 %>%
select(starts_with('relate'))
c %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.25)
gss_numeric_p1 %>%
select(starts_with('rel'))
panel1_cor = cor(gss_numeric_p1, use="p")
contv_cor = panel1_cor  %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.25)
contv_cor$var
gss_numeric_p1 %>%
select(contv_cor$var)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
select(starts_with('rel'))
# Instead of removing ".d", ".i", ".n" I will alter them to NAs.
gss_all = readr::read_csv('./data/gss-all-panels-06-14.csv', na = c(".d", ".i", ".n")) %>%
janitor::remove_empty_cols()
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
gss_all_original = readr::read_csv('./data/gss-all-panels-06-14.csv')
# Instead of removing ".d", ".i", ".n" I will alter them to NAs.
gss_all = readr::read_csv('./data/gss-all-panels-06-14.csv', na = c(".d", ".i", ".n")) %>%
janitor::remove_empty_cols()
gss_all$tvhours = gss_all$tvhours %>% factor(levels = c("0",  "1", "2", "3", "4",  "5",  "6",  "7",  "8",  "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "23", "24"))
dim(gss_all)
unique(gss_all$idnum) %>% length()
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$contv %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
set.seed(100)
gss_all %>%
filter(idnum %in% (gss_all$idnum %>% sample(1000))) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_point() + geom_line(alpha = 0.5) + theme(legend.position="none")
contv_cor
gss_numeric_p1 %>%
select(contv_cor$var) %>%
select(starts_with('rel'))
contv_cor %>%
corrplot::corrplot()
library(amelia)
install.packages("Amelia")
library(Amelia)
View(contv_cor)
contv_cor %>%
select(-starts_with('rel'))
contv_cor %>%
gss_numeric_p1 %>%
select(contv_cor$var)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
select(-starts_with('rel'))
contv_cor
gss_numeric_p1 %>%
select(contv_cor$var)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na()
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
sum()
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
map_df(sum)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na()
View(gss_numeric_p1)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
map_dbl(sum)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
map_df(sum)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
map(sum)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na()
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
class()
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
as.data.frame()
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
as.data.frame() %>%
map(sum)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
as.data.frame() %>%
map(sum/6067)
gss_numeric_p1 %>%
select(contv_cor$var) %>%
is.na() %>%
as.data.frame() %>%
map(sum)
gss_all_original = readr::read_csv('./data/gss-all-panels-06-14.csv')
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
gss_all_original = readr::read_csv('./data/gss-all-panels-06-14.csv')
# Instead of removing ".d", ".i", ".n" I will alter them to NAs.
gss_all = readr::read_csv('./data/gss-all-panels-06-14.csv', na = c(".d", ".i", ".n")) %>%
janitor::remove_empty_cols()
gss_all$tvhours = gss_all$tvhours %>% factor(levels = c("0",  "1", "2", "3", "4",  "5",  "6",  "7",  "8",  "9", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "23", "24"))
dim(gss_all)
unique(gss_all$idnum) %>% length()
gss_all$tvhours %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$contv %>%
table() %>%
as.data.frame(col.names = values) %>%
rename(., values = .) %>%
mutate(Percent = Freq/sum(Freq)) %>%
knitr::kable()
gss_all$tvhours %>%
as.numeric() %>%
Hmisc::describe()
gss_all %>%
ggplot(aes(x=contv)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
gss_all %>%
ggplot(aes(x=tvhours)) +
geom_bar(stat="count") +
facet_grid(. ~ panelwave)
set.seed(100)
gss_all %>%
filter(idnum %in% (gss_all$idnum %>% sample(1000))) %>%
mutate(idnum = factor(idnum)) %>%
ggplot(aes(x = panelwave, y = tvhours, group = idnum, color = idnum)) +
geom_point() + geom_line(alpha = 0.5) + theme(legend.position="none")
install.packages("corrr")
gss_all %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use="complete.obs")
gss_all %>%
filter(panelwave == 1) %>%
mutate(contv = as.numeric(contv),
tvhours = as.numeric(tvhours)) %>%
select(tvhours, contv) %>%
cor(use="complete.obs")
library(purrr)
gss_numeric = map_df(gss_all, as.numeric)
gss_numeric_p1 = gss_numeric %>%
filter(panelwave == 1)
panel1_cor = cor(gss_numeric_p1, use="p")
contv_cor = panel1_cor  %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.25)
# negatively corr check
contv_cor
``
panel1_cor  %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv < -0.25)
contv_cor = panel1_cor  %>%
as.data.frame() %>%
select(contv) %>%
rownames_to_column('var') %>%
filter(contv > 0.2)
install.packages("corrr")
